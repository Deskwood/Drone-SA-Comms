CORASAT SOFTWARE REQUIREMENTS - v1.6
====================================
Source of truth: `Code/corasat/*.py` plus `config.json`, `rules.txt`, `logs/`, `screenshots/`, and `results.csv`.

R1 Configuration & Paths
- Load `config.json` via Core (resolved relative to CWD or the `Code/corasat` repository).
- Resolve data files (e.g., `rules.txt`, `img/`) relative to the loaded config location.
- Use config as the single source of runtime settings (no CLI overrides during refactor).

R2 Seeding & Randomization
- For each entry in `simulation.seed_list`, run one game.
- Apply seeds to Python `random`, NumPy, and Torch (when available).
- When `randomize_figures` is true, figure placement uses the seeded global RNG.

R3 Board & Ground Truth
- Build a grid of `_Tile` cells using `board.width`/`board.height`.
- Place figures from config (or randomized when enabled).
- Pre-compute ground-truth attack edges (`gt_edges`) using chess move rules.

R4 Drone Lifecycle & State
- Instantiate `num_drones` at the base tile with memory, rx buffer, local board, and mission plan.
- Accept sector/rendezvous updates from JSON broadcasts (`plan.assignments` / `plan.rendezvous`).
- `rx_buffer` persists until mission support consumes it for the next prompt.

R5 Turn Pipeline
- Run turns sequentially by drone ID each round until `max_rounds` or user abort.
- For the active drone: Decision Support -> Language Model -> Aftermath.
- Aftermath executes move/broadcast/wait, updates state, and returns a turn outcome.

R6 Simulation Loop & GUI Responsiveness
- Keep the GUI responsive at ~60 FPS when enabled.
- Model calls run asynchronously, but state changes apply sequentially under a shared lock.

R7 Decision Support & Prompting
- Score legal actions using weights from `config.json`.
- Build the prompt from the situation text and request cues.
- Provide an optional first-turn coordination suggestion for Drone 1.

R8 Edge Tracking & Scoring
- Drones infer edges from local knowledge only; discovered edges merge globally.
- Score = correct edges - false edges; log a final summary on shutdown.

R9 Logging & Artifacts
- Log to `logs/simulation_YYYY-MM-DD.log` and stdout.
- Append run metrics to `Code/corasat/results.csv` after each seed.
- Save `screenshots/last_run.png` on shutdown when GUI is enabled.
