CORASAT SOFTWARE DESIGN - v1.5
==============================
Context: `Code/corasat/run_simulation.ipynb` (cells referenced below). Design choices map directly to the requirements in `sw_requirements.txt`.

D1 Logging (Cell 3)
- `TimestampedLogger` centralises console + file logging, resets old handlers, and timestamps every entry. Log file lives in `logs/`.

D2 Configuration & Seeding (Cells 2/4/5/13)
- `load_config` reads `config.json`; `set_all_seeds` applies seeds to `random`, `numpy`, and Torch (if installed).
- Main loop iterates `simulation.seed_list`, updating `CONFIG["simulation"]["random_seed"]` per game so figure randomization stays in sync.

D3 Constants & Helpers (Cells 4/8)
- Shared chess helpers: `COLORS`, `FIGURE_TYPES`, `DIRECTION_MAP`, `cartesian_to_chess`, `chess_to_cartesian`, `format_edge`.
- HSV-to-RGB helper supplies per-drone render colours.

D4 Board Model (Cell 7)
- `_Tile` stores figure, drones, and per-colour targeting counts.
- `_Figure.calculate_figure_targets` walks legal rays/steps to populate attack maps; results are written into tilesâ€™ `targeted_by` counters.

D5 Drone State & Planning (Cell 9)
- `_Drone` owns memory, rx buffer, `mission_plan`, sector assignment, rendezvous directive, and locally perceived board (`local_board`).
- `_build_mission_plan_for_sector` produces perimeter sweeps inside the assigned sector; rendezvous directives are spliced into the plan.
- `_apply_plan_directive` ingests JSON broadcasts (`plan.assignments` / `plan.rendezvous`) and rebuilds plans; `_provide_intelligence_to` shares local board intel and edges with co-located drones.
- Movement (`_move`) validates directions, updates tile membership, appends to `mission_report`, and refreshes local intel via `update_board_report`.

D6 Decision Support (Cell 10)
- `compute_decision_support` evaluates every legal action using weights from `config.json` (waypoint progress/regression, sector alignment, exploration, border bias, rendezvous slack, broadcast value, wait penalties).
- Returns `scores`, the active waypoint, intel ledger, and a first-turn coordination suggestion for Drone 1.

D7 GUI (Cell 11)
- `_SimulationGUI` draws the board, figures, drone paths, active-drone highlight, and a sidebar with scores/mission plans/log output. Saves `screenshots/last_run.png` on shutdown. Respects `simulation.use_gui`.

D8 Simulation Orchestrator (Cell 12)
- `Simulation.__init__` loads rules, builds the board (`_create_figures`), spawns drones (`_create_drones`), and prepares the GUI/executor.
- `run_simulation` drives the round/turn loop, dispatches model calls asynchronously, and applies actions via `_try_finish_drone_turn`. Aborts cleanly on window close or Ctrl+C.
- `report_edges` maintains global discovered edges and score; `_log_final_summary` writes a final recap.

D9 Results Export (Cell 5/13)
- `persist_run_results` appends per-seed metrics to `Code/corasat/results.csv`, including config hash and optional git SHA. `RESULTS_FIELDS` documents the schema.
